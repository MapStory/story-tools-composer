<header ng-hide="layerViewerMode">
    <div class="story-info">
        <h1>{{ stateSvc.config.about.title }}</h1>
        <div ng-hide="composerMode">
          <a href="/storyteller/{{ stateSvc.config.about.owner.username }}">{{ stateSvc.config.about.owner.username }}</a>
        </div>
        <div ng-if="composerMode" ng-hide="viewerMode">
            <a ng-click="openStoryModal()" id="editStoryInfo">Edit Story Info</a>
        </div>
    </div>
    <div class="preview">
        <div ng-if="composerMode" ng-hide="viewerMode && !adminViewerMode" class="form-field">
            <label for="timeline">Preview mode</label>
            <label class="switch">
                <input type="checkbox" for="sidebar"
                       ng-click="setPreviewMode();">
                <div class="slider round" id="previewMode"></div>
            </label>
        </div>
    </div>
    <div ng-if="composerMode" ng-hide="viewerMode" class="autosave">
        <button id="tourComposer">Tour Composer</button>
        <button ng-disabled="!stateSvc.config.about.title" ng-click="saveMap(); updateFrames();" id="saveStory">Save</button>
        <button ng-disabled="!stateSvc.config.about.title" ng-click="publishMap()" id="publishStory">Publish</button>
        <button ng-click="goHome()">Exit Composer</button>
    </div>
    <div id="save-confirmation"></div>
    <!-- The Legend -->
    <legend-directive></legend-directive>
</header>
<!-- STORYPIN OVERLAYS -->
<div id="hidden-overlays" style="display:none;"></div>
